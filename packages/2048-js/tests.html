<!DOCTYPE html>
<html>
  <head>
    <title>2048 tests</title>
    <script type="module" defer>
        import { reduceList } from './utilities.js'

        const table = document.querySelector('main > table')
        const createRow = () => document.createElement('tr')
        const createCell = () => document.createElement('td')
        const createText = text => document.createTextNode(text)
        const describe = (text) => {
            const row = createRow()
            const cell = createCell()
            const title = createText(text)
            cell.colSpan = 2
            cell.appendChild(title)
            row.appendChild(cell)
            table.appendChild(row)
        }
        const test = (text, assertion) => {
            const row = createRow()
            const labelCell = createCell()
            const label = createText(text)
            const assertionCell = createCell()
            const assertionResult = createText(assertion() ? 'PASS' : 'FAIL')
            labelCell.appendChild(label)
            assertionCell.appendChild(assertionResult)
            row.appendChild(labelCell)
            row.appendChild(assertionCell)
            table.appendChild(row)
        }

        describe('Utilities')
        test('reduceList [1,2,3] returns [1,2,3]', () => {
            const list = [1,2,3]
            const result = reduceList(list)
            return result.join(',') === '1,2,3'
        })
        test('reduceList [1,0,2,3] returns [1,2,3]', () => {
            const list = [1,0,2,3]
            const result = reduceList(list)
            return result.join(',') === '1,2,3'
        })
    </script>
  </head>
  <body>
    <header>2048 tests</header>
    <main>
      <table></table>
    </main>
  </body>
</html>